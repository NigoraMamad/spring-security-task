<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head><title>University Portal</title></head>
<body>
<h1>Welcome to the University Portal</h1>

<div th:if="${isAuthenticated}">
    <p>You are logged in as <strong th:text="${username}"></strong> with role <strong th:text="${role}"></strong>.</p>
    <p><a th:href="@{/courses}"> View All Courses</a></p>
    <p><a th:href="@{/students}"> View Students</a></p>

    <th:block th:if="${role == 'admin'}">
        <p><a th:href="@{/courses/new}"> Add New Course</a></p>
        <p><a th:href="@{/admin/users}"> View All Users</a></p>
        <p><a th:href="@{/admin/users/new}"> Create New User</a></p>
    </th:block>

    <form th:action="@{/logout}" method="post">
        <button type="submit"> Logout</button>
    </form>
</div>

<div th:unless="${isAuthenticated}">
    <p>Welcome, guest! You can:</p>
    <ul>
        <li><a th:href="@{/courses}"> View Available Courses</a></li>
        <li><a th:href="@{/login}"> Log In</a> to access more features</li>
    </ul>
</div>
</body>
</html>
